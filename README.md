# TimeBox Task Manager - Complete Setup Guide

## ğŸ“‹ Prerequisites
- Flutter SDK (3.0.0 or higher)
- Dart SDK
- Firebase account (for cloud sync)
- FlutterFire CLI

## ğŸš€ Quick Start

### 1. Install Dependencies
```bash
flutter pub get
```

### 2. Setup Firebase (Optional - Required for Cloud Sync)

**Option A: Use Cloud Sync (Recommended)**

Follow the detailed guide in `FIREBASE_SETUP.md` for complete Firebase setup.

Quick steps:
```bash
# Install FlutterFire CLI
dart pub global activate flutterfire_cli

# Configure Firebase
flutterfire configure

# This will create firebase_options.dart automatically
```

Then enable Authentication and Firestore in Firebase Console (see `FIREBASE_SETUP.md`).

**Option B: Use Guest Mode Only (Local Storage)**

Skip Firebase setup. App will work in guest mode with local storage only.

### 3. Generate Hive Adapters
```bash
flutter pub run build_runner build --delete-conflicting-outputs
```

This generates `lib/models/task.g.dart` for local storage.

### 4. Run the App
```bash
flutter run
```

## ğŸ¯ Features (Version 3.0)

### ğŸ” **NEW: Firebase Authentication & Cloud Sync**
- Email/password authentication
- Guest mode (local only)
- Automatic cloud synchronization
- Multi-device access
- Secure user data isolation
- Manual sync controls
- Account management

### ğŸ“… **Calendar Timeline View**
- 24-hour visual day planner
- Current time indicator (red line)
- Drag tasks to schedule
- Date navigation (prev/next/today)
- Color-coded task blocks
- Touch-to-complete tasks

### ğŸ¨ **Task Categories & Color Coding**
- Work (Blue) ğŸ’¼
- Personal (Purple) ğŸ‘¤
- Health (Green) ğŸƒ
- Learning (Orange) ğŸ“š
- Other (Grey) ğŸ“‹
- Visual colored borders
- Consistent across all views

### â±ï¸ **Focus Timer (Pomodoro)**
- Full-screen focus mode
- Circular progress indicator
- Play/Pause/Reset controls
- Actual vs estimated time tracking
- Completion celebrations
- Quick access from tasks

### ğŸ“Š **Statistics Dashboard**
- Total tasks & completion rate
- Category breakdown with percentages
- 7-day completion trend chart
- Time estimation accuracy
- Over/underestimation indicators
- Visual insights with charts

### âš¡ **Quick Schedule**
- One-tap scheduling from backlog
- Date & time picker
- Duration slider (15-240 min)
- Direct calendar integration

### ğŸ“¦ **Enhanced Task Management**
- Drag & drop to timeboxes
- Reorderable tasks and boxes
- Color-coded visual feedback
- Time allocation tracking
- Over-allocation warnings
- Task completion tracking

### ğŸ’¾ **Dual Storage System**
- **Local Storage:** Hive (fast, offline)
- **Cloud Storage:** Firestore (sync across devices)
- Automatic background sync
- Manual sync controls
- Guest mode (local only)

## ğŸ“± User Modes

### ğŸŒŸ Signed In Mode (Cloud Sync)
- Data synced to Firebase Firestore
- Access from any device
- Automatic backup
- Share across platforms
- Secure authentication

### ğŸ‘¤ Guest Mode (Local Only)
- Data stored locally with Hive
- No account required
- Works offline
- Single device only
- Can upgrade to cloud sync anytime

## ğŸ“ Project Structure

```
lib/
â”œâ”€â”€ main.dart                          # App entry & initialization
â”œâ”€â”€ firebase_options.dart              # Auto-generated by FlutterFire
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ task.dart                      # Enhanced Task & TimeBox models
â”‚   â””â”€â”€ task.g.dart                    # Generated Hive adapters
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ auth_service.dart              # Firebase Authentication
â”‚   â”œâ”€â”€ firestore_service.dart         # Firestore CRUD operations
â”‚   â””â”€â”€ sync_service.dart              # Local/Cloud sync manager
â”œâ”€â”€ providers/
â”‚   â”œâ”€â”€ task_provider.dart             # Task state with dual storage
â”‚   â””â”€â”€ timebox_provider.dart          # TimeBox state with dual storage
â”œâ”€â”€ screens/
â”‚   â”œâ”€â”€ auth_wrapper.dart              # Authentication routing
â”‚   â”œâ”€â”€ login_screen.dart              # Login UI
â”‚   â”œâ”€â”€ signup_screen.dart             # Sign up UI
â”‚   â”œâ”€â”€ home_screen.dart               # Main screen with navigation
â”‚   â”œâ”€â”€ calendar_view_screen.dart      # Timeline calendar view
â”‚   â”œâ”€â”€ statistics_screen.dart         # Analytics dashboard
â”‚   â”œâ”€â”€ focus_timer_screen.dart        # Pomodoro focus mode
â”‚   â””â”€â”€ profile_screen.dart            # Account & sync management
â””â”€â”€ widgets/
    â”œâ”€â”€ backlog_section.dart           # Task backlog
    â”œâ”€â”€ timebox_section.dart           # TimeBox list
    â”œâ”€â”€ task_card.dart                 # Task display with colors
    â”œâ”€â”€ timebox_card.dart              # TimeBox with focus button
    â”œâ”€â”€ calendar_task_card.dart        # Calendar timeline task
    â”œâ”€â”€ add_task_dialog.dart           # Task creation with category
    â”œâ”€â”€ add_timebox_dialog.dart        # TimeBox creation
    â”œâ”€â”€ add_task_to_timebox_dialog.dart # Task duration assignment
    â””â”€â”€ quick_schedule_dialog.dart     # Quick task scheduling
```

## ğŸ”„ Data Flow

### Authentication Flow
```
App Start
  â†“
Check Auth State
  â†“
  â”œâ”€â†’ Signed In â†’ Enable Cloud Sync â†’ Home Screen
  â””â”€â†’ Not Signed In â†’ Login Screen
        â†“
        â”œâ”€â†’ Sign In/Sign Up â†’ Cloud Sync
        â””â”€â†’ Continue as Guest â†’ Local Only
```

### Data Sync Flow
```
User Action (Create/Update/Delete)
  â†“
Save to Local Storage (Hive) â† Always Instant
  â†“
Check Sync Mode
  â†“
  â”œâ”€â†’ Cloud Sync Enabled â†’ Sync to Firestore
  â””â”€â†’ Local Only â†’ Skip Cloud
```

## ğŸ› ï¸ Development Commands

### Install dependencies
```bash
flutter pub get
```

### Generate code (Hive adapters)
```bash
flutter pub run build_runner build --delete-conflicting-outputs
```

### Watch mode (auto-regenerate on changes)
```bash
flutter pub run build_runner watch --delete-conflicting-outputs
```

### Run app
```bash
flutter run
```

### Build for release
```bash
flutter build apk          # Android
flutter build ios          # iOS  
flutter build windows      # Windows
flutter build macos        # macOS
flutter build web          # Web
```

### Clean build
```bash
flutter clean
flutter pub get
flutter pub run build_runner build --delete-conflicting-outputs
flutter run
```

## ğŸ” Firebase Setup

See `FIREBASE_SETUP.md` for complete Firebase configuration guide.

Quick checklist:
- [ ] Create Firebase project
- [ ] Run `flutterfire configure`
- [ ] Enable Email/Password authentication
- [ ] Create Firestore database
- [ ] Configure security rules
- [ ] Test authentication
- [ ] Verify data sync

## ğŸ†• Version History

### Version 3.0 - Firebase Integration
- âœ… Firebase Authentication (email/password)
- âœ… Cloud Firestore sync
- âœ… Guest mode (local only)
- âœ… Profile & account management
- âœ… Manual sync controls
- âœ… Multi-device support

### Version 2.0 - Enhanced Productivity
- âœ… Calendar timeline view
- âœ… Task categories & colors
- âœ… Focus timer (Pomodoro)
- âœ… Statistics dashboard
- âœ… Quick schedule
- âœ… Time tracking

### Version 1.0 - Core Features
- âœ… Task backlog
- âœ… Time boxing
- âœ… Drag & drop
- âœ… Local storage (Hive)

## ğŸ’¡ Usage Guide

### Getting Started

1. **Choose Mode:**
   - Sign up for cloud sync
   - Or continue as guest (local only)

2. **Add Tasks:**
   - Tap "+" button
   - Enter title, description
   - Select category
   - Task added to backlog

3. **Schedule Tasks:**
   - **Option A:** Drag from backlog to timebox
   - **Option B:** Tap schedule icon for quick schedule
   - **Option C:** Open calendar view and drag to time slot

4. **Use Focus Timer:**
   - Tap timer icon on any task
   - Start focus session
   - Track actual time spent

5. **Review Progress:**
   - Check statistics for insights
   - View completion trends
   - Improve time estimates

### Pro Tips ğŸ¯

1. **Morning Planning:** Use calendar view to visualize your day
2. **Color Code:** Assign categories for quick visual scanning
3. **Focus Sessions:** Start timer for deep work blocks
4. **Evening Review:** Check stats to track progress
5. **Quick Actions:** Use schedule button for fast planning
6. **Sync Regularly:** Keep data updated across devices
7. **Time Learning:** Review accuracy to improve estimates

## ğŸ”’ Privacy & Security

### Local Storage (Hive)
- Data stored on device only
- Not accessible to other apps
- Cleared on app uninstall

### Cloud Storage (Firebase)
- End-to-end user isolation
- Secure authentication required
- Each user can only access their data
- Industry-standard encryption
- GDPR compliant

### Security Rules
```javascript
// Users can only access their own data
match /users/{userId}/{document=**} {
  allow read, write: if request.auth.uid == userId;
}
```

## ğŸ“Š Firebase Free Tier

Perfect for personal use:
- **Firestore:** 1 GiB storage, 50K reads/day
- **Authentication:** Unlimited users
- **Hosting:** 10 GB storage, 360 MB/day transfer

**Most users will never hit these limits!**

## âš ï¸ Troubleshooting

### "Cannot find TaskAdapter"
```bash
flutter pub run build_runner build --delete-conflicting-outputs
```

### "firebase_options.dart not found"
```bash
flutterfire configure
```

### Authentication not working
1. Check Firebase Console â†’ Authentication â†’ Email/Password enabled
2. Verify `firebase_options.dart` exists
3. Check internet connection

### Data not syncing
1. Check profile screen shows "Cloud Sync Enabled"
2. Tap "Sync Now" in profile
3. Check Firestore rules in Firebase Console
4. Verify user is authenticated

### Build errors
```bash
flutter clean
flutter pub get
flutter pub run build_runner build --delete-conflicting-outputs
```

## ğŸ“ Support

- **Firebase Issues:** See `FIREBASE_SETUP.md`
- **FlutterFire Docs:** https://firebase.flutter.dev/
- **Firebase Console:** https://console.firebase.google.com/

## ğŸ‰ What's Next?

Planned features for future versions:
- [ ] Google Sign-In
- [ ] Apple Sign-In
- [ ] Recurring tasks
- [ ] Task templates
- [ ] Export/Import data
- [ ] Dark mode customization
- [ ] Notifications
- [ ] Team collaboration

## ğŸ“„ License

This project is open source and available for personal and commercial use.

## ğŸ™ Acknowledgments

Built with:
- Flutter & Dart
- Firebase (Authentication & Firestore)
- Hive (Local Storage)
- Riverpod (State Management)
- fl_chart (Statistics)
- Material Design 3

Inspired by productivity apps: Sunsama, TickTick, Notion, Motion

---

**Happy Time Blocking! â°âœ¨**